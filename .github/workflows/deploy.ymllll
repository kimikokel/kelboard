# name: Build and Deploy to Production Repo

# on:
#   push:
#     branches: [ main ]

# jobs:
#   build-and-deploy:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout Kelboard Code
#         uses: actions/checkout@v3
        
#       - name: Setup Node.js and Build
#         uses: actions/setup-node@v3
#         with:
#           node-version: '18'

#       - name: Install dependencies and build
#         run: |
#           npm ci --legacy-peer-deps
#           npm run build

#       - name: Checkout Deployment Repo
#         uses: actions/checkout@v3
#         with:
#           repository: kimikokel/kelxd-deploy
#           token: ${{ secrets.DEPLOY_TOKEN }}
#           path: deploy-repo

#       - name: Copy Build to Deployment Repo
#         run: |
#           # Delete the old kelboard files
#           rm -rf deploy-repo/kelboard
#           # Vue's build folder is usually 'dist', not 'build'
#           cp -r dist/ deploy-repo/kelboard/ 

#       - name: Commit and Push to Deployment Repo
#         run: |
#           cd deploy-repo
#           git config user.name "GitHub Actions Bot"
#           git config user.email "github-actions-bot@users.noreply.github.com"
#           git add .
#           git commit -m "Deploy Kelboard from $GITHUB_SHA"
#           git push